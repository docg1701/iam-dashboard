# Story 1.1: Project Setup and Development Environment

## Status
Approved

## Story
**As a** developer,  
**I want** a complete project setup with all necessary dependencies and development tools,  
**so that** I can begin implementing features efficiently with proper code quality standards.

## Acceptance Criteria

1. **Repository Structure:** Complete monorepo structure created with frontend/, backend/, and deployment/ directories following the CLAUDE.md specifications
2. **Backend Setup:** FastAPI + SQLModel + PostgreSQL development environment configured with UV package management
3. **Frontend Setup:** Next.js 15 + React 19 + TypeScript + shadcn/ui + Tailwind CSS development environment configured
4. **Database Configuration:** PostgreSQL with initial schemas and Alembic migration setup
5. **Code Quality:** Ruff, mypy, ESLint, and TypeScript strict mode configured with pre-commit hooks
6. **Testing Framework:** pytest (backend) and Vitest (frontend) configured with initial test structure
7. **Docker Development:** docker-compose.yml configured for local development with all services
8. **Documentation:** Basic README.md with development setup instructions

## Tasks / Subtasks

- [ ] Task 1: Setup Repository Structure (AC: 1)
  - [ ] Create monorepo structure following unified-project-structure.md specifications
  - [ ] Create apps/, packages/, deployment/, scripts/, and docs/ directories
  - [ ] Setup package.json with workspaces configuration for monorepo
  - [ ] Initialize turbo.json for build optimization
  - [ ] Create .gitignore with proper patterns for all technologies

- [ ] Task 2: Backend Environment Setup (AC: 2)
  - [ ] Initialize FastAPI application in apps/api/ directory
  - [ ] Configure UV package management with pyproject.toml
  - [ ] Install FastAPI >=0.116.1, SQLModel, and PostgreSQL dependencies
  - [ ] Setup main.py as FastAPI application entry point
  - [ ] Configure core/, api/, services/, models/, schemas/, middleware/, agents/, utils/ directories
  - [ ] Create Dockerfile for backend container

- [ ] Task 3: Frontend Environment Setup (AC: 3)
  - [ ] Initialize Next.js 15 application in apps/web/ directory
  - [ ] Configure React 19, TypeScript >=5.9, shadcn/ui >=2.9.3
  - [ ] Setup Tailwind CSS >=4.1.11 configuration
  - [ ] Configure TanStack Query >=5.84.0 + Zustand >=5.0.7 for state management
  - [ ] Create src/ structure with app/, components/, hooks/, services/, stores/, styles/, utils/
  - [ ] Setup next.config.js, tailwind.config.js, tsconfig.json
  - [ ] Initialize shadcn/ui component library

- [ ] Task 4: Database Configuration (AC: 4)
  - [ ] Setup PostgreSQL >=17.5 configuration in docker-compose.yml
  - [ ] Configure Redis >=8.0.3 for caching
  - [ ] Initialize Alembic >=1.16.4 for database migrations
  - [ ] Create initial migration structure in apps/api/alembic/
  - [ ] Configure database connection with SQLModel

- [ ] Task 5: Code Quality Tools (AC: 5)
  - [ ] Configure Ruff for Python linting and formatting
  - [ ] Setup mypy for Python type checking
  - [ ] Configure ESLint and TypeScript strict mode for frontend
  - [ ] Setup Prettier for code formatting
  - [ ] Configure pre-commit hooks for automated quality checks
  - [ ] Create quality check scripts in package.json

- [ ] Task 6: Testing Framework Setup (AC: 6)
  - [ ] Configure pytest >=8.4.1 + pytest-asyncio >=1.1.0 for backend
  - [ ] Setup Vitest >=3.2.4 + React Testing Library >=16.3.0 for frontend
  - [ ] Create test directory structure following testing-strategy.md
  - [ ] Configure test scripts and coverage reporting
  - [ ] Setup MCP Playwright E2E testing configuration

- [ ] Task 7: Docker Development Environment (AC: 7)
  - [ ] Create docker-compose.yml with PostgreSQL, Redis, and application services
  - [ ] Configure development environment variables in .env.example
  - [ ] Setup service dependencies and health checks
  - [ ] Create development startup scripts

- [ ] Task 8: Documentation (AC: 8)
  - [ ] Create comprehensive README.md with setup instructions
  - [ ] Document development workflow following development-workflow.md
  - [ ] Include troubleshooting guide for common setup issues
  - [ ] Document environment variable configuration

## Dev Notes

### Technical Context from Architecture Documents

**Repository Structure Requirements:**
[Source: architecture/unified-project-structure.md#monorepo-structure]
- Monorepo structure with apps/, packages/, deployment/, scripts/, docs/ directories
- Frontend: apps/web/ with Next.js App Router architecture
- Backend: apps/api/ with FastAPI service architecture
- Shared packages in packages/shared/, packages/ui/, packages/config/
- Deployment configurations in deployment/ with scripts/, systemd/, configs/
- Build optimization using Turbo (Turborepo) >=1.10

**Technology Stack Requirements:**
[Source: architecture/tech-stack.md#technology-stack-table]
- Frontend: Next.js >=15.4.5, React 19, TypeScript >=5.9, shadcn/ui >=2.9.3
- Backend: Python >=3.13.5, FastAPI >=0.116.1, SQLModel, Pydantic >=2.11.7
- Database: PostgreSQL >=17.5, Redis >=8.0.3, Alembic >=1.16.4
- Package Management: npm workspaces + UV (Python), Turbo for build optimization
- Testing: pytest >=8.4.1, Vitest >=3.2.4, React Testing Library >=16.3.0
- Code Quality: Ruff, mypy, ESLint, TypeScript strict mode, Prettier
- State Management: TanStack Query >=5.84.0 + Zustand >=5.0.7
- CSS: Tailwind CSS >=4.1.11 with utility-first approach

**Development Workflow Requirements:**
[Source: architecture/development-workflow.md#local-development-setup]
- Prerequisites: Node.js 18.0+, Python 3.12+, Docker 24.0+, Git 2.30+
- UV package manager installation via curl script
- Global tools: turbo@latest
- Development commands: npm run dev, npm run build, npm run test
- Database commands: npm run db:migrate, npm run db:seed
- Quality commands: npm run lint, npm run type-check, npm run format

**Project Structure Guidelines:**
[Source: architecture/unified-project-structure.md#application-packages]
- Frontend: src/app/ (App Router), src/components/, src/hooks/, src/services/
- Backend: src/main.py, src/core/, src/api/, src/services/, src/models/
- Shared: packages/shared/src/types/, packages/ui/src/components/
- Deployment: deployment/docker/, deployment/scripts/, deployment/configs/

**Coding Standards:**
[Source: architecture/coding-standards.md#critical-fullstack-rules]
- Type sharing via packages/shared prevents API/frontend type mismatches
- Environment variables accessed through config objects, never process.env directly
- Database operations must use transactions with proper rollback capability
- Brazilian Portuguese UI text while code remains in English
- Naming conventions: PascalCase components, camelCase hooks, kebab-case routes

### Testing Requirements

**Testing Standards from Architecture:**
[Source: architecture/testing-strategy.md#test-organization]
- Backend tests: apps/api/tests/ with __tests__/, integration/, e2e/ structure
- Frontend tests: apps/web/tests/ with __tests__/, integration/, e2e/ structure
- CLAUDE.md compliance: Never mock internal business logic, only external boundaries
- MCP Playwright E2E testing instead of local Playwright installation
- Co-located unit tests in __tests__/ folders
- Coverage requirements: comprehensive reporting for both frontend and backend

**Testing Framework Configuration:**
- pytest with async support for FastAPI testing
- Vitest with React Testing Library for component testing
- MCP Playwright for end-to-end testing (no local installation required)
- Coverage reporting configuration for both frontend and backend
- Test scripts in package.json for monorepo testing

### Project Structure Notes
All paths align with the unified project structure specification. No conflicts identified between epic requirements and architecture documentation.

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-01-14 | 1.0 | Initial story creation with complete technical context | Scrum Master |

## Dev Agent Record
*This section will be populated by the development agent during implementation*

### Agent Model Used
*To be filled by dev agent*

### Debug Log References
*To be filled by dev agent*

### Completion Notes List
*To be filled by dev agent*

### File List
*To be filled by dev agent*

## QA Results
*Results from QA Agent review will be populated here*